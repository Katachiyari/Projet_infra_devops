global:
  resolve_timeout: 5m

route:
  receiver: "default-email"
  group_by: ["alertname", "instance"]
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 4h

receivers:
  - name: "default-email"
    email_configs:
      - to: "{{ alertmanager_smtp_to }}"
        from: "{{ alertmanager_smtp_from }}"
        smarthost: "{{ alertmanager_smtp_host }}:587"
        auth_username: "{{ alertmanager_smtp_username }}"
        auth_password: "{{ alertmanager_smtp_password }}"

# Exemple de receiver webhook (désactivé par défaut)
#  - name: "webhook"
#    webhook_configs:
#      - url: "http://webhook.example.com/alert"
